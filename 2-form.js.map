{"version":3,"file":"2-form.js","sources":["../src/js/localStorage.js","../src/js/2-form.js"],"sourcesContent":["export const save = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const load = key => {\n  try {\n    const dataFromLS = localStorage.getItem(key);\n\n    return dataFromLS === null ? undefined : JSON.parse(dataFromLS);\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import { save, load } from './localStorage';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst feedbackFormEl = document.querySelector('.js-feedback-form');\nconst errorMessageEl = document.querySelector('.js-error-message');\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst fillFormField = () => {\n  const formDataFromLS = load('feedback-form-state');\n\n  if (!formDataFromLS) return;\n\n  if (formDataFromLS.email) {\n    feedbackFormEl.elements.email.value = formDataFromLS.email;\n    formData.email = formDataFromLS.email;\n  }\n\n  if (formDataFromLS.message) {\n    feedbackFormEl.elements.message.value = formDataFromLS.message;\n    formData.message = formDataFromLS.message;\n  }\n};\n\nconst onFormFieldChange = event => {\n  const { name, value } = event.target;\n\n  formData[name] = value.trim();\n  save('feedback-form-state', formData);\n};\n\nconst onFeedbackFormSubmit = event => {\n  event.preventDefault();\n\n  const { email, message } = formData;\n\n  if (!email || !message) {\n    errorMessageEl.style.display = 'block';\n    return;\n  }\n\n  console.log('Form submitted with data:', formData);\n\n  feedbackFormEl.reset();\n  localStorage.removeItem('feedback-form-state');\n  formData.email = '';\n  formData.message = '';\n  errorMessageEl.style.display = 'none';\n};\n\nfillFormField();\n\nfeedbackFormEl.addEventListener('input', onFormFieldChange);\nfeedbackFormEl.addEventListener('submit', onFeedbackFormSubmit);\n"],"names":["save","key","data","err","load","dataFromLS","feedbackFormEl","errorMessageEl","formData","fillFormField","formDataFromLS","onFormFieldChange","event","name","value","onFeedbackFormSubmit","email","message"],"mappings":"wFAAO,MAAMA,EAAO,CAACC,EAAKC,IAAS,CACjC,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAC/C,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACnB,CACA,EAEaC,EAAOH,GAAO,CACzB,GAAI,CACF,MAAMI,EAAa,aAAa,QAAQJ,CAAG,EAE3C,OAAOI,IAAe,KAAO,OAAY,KAAK,MAAMA,CAAU,CAC/D,OAAQF,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACnB,CACA,ECZMG,EAAiB,SAAS,cAAc,mBAAmB,EAC3DC,EAAiB,SAAS,cAAc,mBAAmB,EAE3DC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAgB,IAAM,CAC1B,MAAMC,EAAiBN,EAAK,qBAAqB,EAE5CM,IAEDA,EAAe,QACjBJ,EAAe,SAAS,MAAM,MAAQI,EAAe,MACrDF,EAAS,MAAQE,EAAe,OAG9BA,EAAe,UACjBJ,EAAe,SAAS,QAAQ,MAAQI,EAAe,QACvDF,EAAS,QAAUE,EAAe,SAEtC,EAEMC,EAAoBC,GAAS,CACjC,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAO,EAAGF,EAAM,OAE9BJ,EAASK,CAAI,EAAIC,EAAM,KAAM,EAC7Bd,EAAK,sBAAuBQ,CAAQ,CACtC,EAEMO,EAAuBH,GAAS,CACpCA,EAAM,eAAgB,EAEtB,KAAM,CAAE,MAAAI,EAAO,QAAAC,CAAO,EAAKT,EAE3B,GAAI,CAACQ,GAAS,CAACC,EAAS,CACtBV,EAAe,MAAM,QAAU,QAC/B,MACJ,CAEE,QAAQ,IAAI,4BAA6BC,CAAQ,EAEjDF,EAAe,MAAO,EACtB,aAAa,WAAW,qBAAqB,EAC7CE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAe,MAAM,QAAU,MACjC,EAEAE,EAAe,EAEfH,EAAe,iBAAiB,QAASK,CAAiB,EAC1DL,EAAe,iBAAiB,SAAUS,CAAoB"}